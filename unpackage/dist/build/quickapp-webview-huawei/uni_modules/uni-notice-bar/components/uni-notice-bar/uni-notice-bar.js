"use strict";var e=require("../../../../common/vendor.js");const t={name:"UniNoticeBar",emits:["click","getmore","close"],props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:"#FFF9EA"},speed:{type:Number,default:100},color:{type:String,default:"#FF9A43"},fontSize:{type:Number,default:14},moreColor:{type:String,default:"#FF9A43"},single:{type:[Boolean,String],default:!1},scrollable:{type:[Boolean,String],default:!1},showIcon:{type:[Boolean,String],default:!1},showGetMore:{type:[Boolean,String],default:!1},showClose:{type:[Boolean,String],default:!1}},data:()=>({textWidth:0,boxWidth:0,wrapWidth:"",webviewHide:!1,elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,elIdBox:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,show:!0,animationDuration:"none",animationPlayState:"paused",animationDelay:"0s"}),computed:{isShowGetMore(){return!0===this.showGetMore||"true"===this.showGetMore},isShowClose(){return!(!0!==this.showClose&&"true"!==this.showClose||!1!==this.showGetMore&&"false"!==this.showGetMore)}},mounted(){this.$nextTick((()=>{this.initSize()}))},methods:{initSize(){if(this.scrollable){let t=[],o=new Promise(((t,o)=>{e.index.createSelectorQuery().in(this).select(`#${this.elId}`).boundingClientRect().exec((e=>{this.textWidth=e[0].width,t()}))})),i=new Promise(((t,o)=>{e.index.createSelectorQuery().in(this).select(`#${this.elIdBox}`).boundingClientRect().exec((e=>{this.boxWidth=e[0].width,t()}))}));t.push(o),t.push(i),Promise.all(t).then((()=>{this.animationDuration=this.textWidth/this.speed+"s",this.animationDelay=`-${this.boxWidth/this.speed}s`,setTimeout((()=>{this.animationPlayState="running"}),1e3)}))}},loopAnimation(){},clickMore(){this.$emit("getmore")},close(){this.show=!1,this.$emit("close")},onClick(){this.$emit("click")}}};if(!Array){e.resolveComponent("uni-icons")()}Math;var o=e._export_sfc(t,[["render",function(t,o,i,n,l,s){return e.e({a:l.show},l.show?e.e({b:!0===i.showIcon||"true"===i.showIcon},!0===i.showIcon||"true"===i.showIcon?{c:e.p({type:"sound",color:i.color,size:1.5*i.fontSize})}:{},{d:e.t(i.text),e:l.elId,f:i.scrollable?1:"",g:i.scrollable||!i.single&&!i.showGetMore?"":1,h:i.color,i:i.fontSize+"px",j:1.5*i.fontSize+"px",k:l.wrapWidth+"px",l:l.animationDuration,m:l.animationDuration,n:l.webviewHide?"paused":l.animationPlayState,o:l.webviewHide?"paused":l.animationPlayState,p:l.animationDelay,q:l.animationDelay,r:l.elIdBox,s:i.scrollable?1:"",t:i.scrollable||!i.single&&!i.moreText?"":1,v:i.scrollable?1:"",w:i.scrollable||!i.single&&!i.moreText?"":1,x:i.scrollable?1.5*i.fontSize+"px":"auto",y:s.isShowGetMore},s.isShowGetMore?e.e({z:i.moreText.length>0},i.moreText.length>0?{A:e.t(i.moreText),B:i.moreColor,C:i.fontSize+"px"}:{D:e.p({type:"right",color:i.moreColor,size:1.1*i.fontSize})},{E:e.o(((...e)=>s.clickMore&&s.clickMore(...e)))}):{},{F:s.isShowClose},s.isShowClose?{G:e.o(s.close),H:e.p({type:"closeempty",color:i.color,size:1.1*i.fontSize})}:{},{I:i.backgroundColor,J:e.o(((...e)=>s.onClick&&s.onClick(...e)))}):{})}],["__scopeId","data-v-161993ec"]]);qa.createComponent(o);
