"use strict";var e=require("../vendor.js"),t=require("./tools.js"),a={getMonthBillCount(a){var o=e.index.getStorageSync("user_info");const i=e.index.getStorageSync("month_income_cache"),s=e.index.getStorageSync("month_paymoney_cache");(i<=0||s<=0||a)&&e.index.request({url:"/api/ika/v1/accountrecord/statistics",method:"POST",timeout:3e3,header:{Authorization:o.token},data:{keepTime:t.tools.formatDate(new Date),timeQueryType:1},success:t=>{1===t.data.status?(e.index.setStorageSync("month_income_cache",t.data.data.statisticsItem[0].incomeMoney),e.index.setStorageSync("month_paymoney_cache",t.data.data.statisticsItem[0].payMoney)):e.index.showToast({title:t.data.message,icon:"error",duration:2e3})},fail:t=>{e.index.showToast({title:t.errMsg,icon:"fail",duration:2e3})}})},getPurpose(){e.index.request({url:"/api/ika/v1/sysdic/getcache?type=2",method:"GET",timeout:3e3,success:t=>{console.log(t.data),1===t.data.status?e.index.setStorageSync("purpose_data",t.data.data):e.index.showToast({title:"请求账单类型："+t.data.message,icon:"error",duration:2e3})},fail:t=>{e.index.showToast({title:"请求账单类型："+t.errMsg,icon:"fail",duration:2e3})}})},getPayType(){e.index.request({url:"/api/ika/v1/sysdic/getcache?type=1",method:"GET",timeout:3e3,success:t=>{1===t.data.status?e.index.setStorageSync("paytype_data",t.data.data):e.index.showToast({title:"请求支付方式："+t.data.message,icon:"error",duration:2e3})},fail:t=>{e.index.showToast({title:"请求支付方式："+t.errMsg,icon:"fail",duration:2e3})}})}};exports.request=a;
