"use strict";var e=require("../../common/vendor.js");const s={components:{},data:()=>({items:["登录","注册"],current:0,colorDefault:"#b4b4b4",colorFocusColor:"#66ffff",inputColorConfigToUserName:{color:"#000000",disableColor:"#eee",borderColor:"#b4b4b4"},inputColorConfigToPassWord:{color:"#000000",disableColor:"#eee",borderColor:"#b4b4b4"},user:"",pass:"",messageText:"",popupMessageType:"success",value:0,disabled:!1,initText:"右滑验证",successText:"验证成功",sliderBlockBg:"#dae2d0",forntBg:"green",sliderBlockWidth:80,reset:!0,isCheckSlider:!0}),onLoad(){},methods:{UserNamePassWrodFocusBorderStyle(){this.inputColorConfigToUserName.borderColor=this.colorFocusColor},PassWordFocusBorderStyle(){this.inputColorConfigToPassWord.borderColor=this.colorFocusColor},UserNamePassWrodBlurBorderStyle(){this.inputColorConfigToUserName.borderColor=this.colorDefault},PassWordBlurBorderStyle(){this.inputColorConfigToPassWord.borderColor=this.colorDefault},onClickItem(e){this.current!==e.currentIndex&&(this.current=e.currentIndex)},userclick(){0===this.current?this.userlogin():this.userregister()},userlogin(){var s=this;e.index.request({url:"/api/ika/v1/user/login",method:"POST",timeout:3e3,data:{name:s.user,password:s.pass},success:o=>{s.value=0,1===o.data.status?(s.messageText=o.data.message,s.$refs.popup.open(),e.index.setStorageSync("user_info",o.data.data),e.index.switchTab({url:"/pages/mime/mime"})):(s.messageText=o.data.message,s.popupMessageType="warn",s.$refs.popup.open())},fail:e=>{console.log(e),s.messageText="登录失败，请稍后再试("+e.errMsg+")",s.popupMessageType="error",s.$refs.popup.open()}})},userregister(){var s=this;e.index.showLoading({title:"注册中……"}),e.index.request({url:"/api/ika/v1/user/add",method:"POST",timeout:3e3,data:{uName:s.user,password:s.pass,phone:s.user},success:o=>{e.index.hideLoading(),1===o.data.status?s.userlogin():(s.messageText=o.data.message,s.popupMessageType="warn",s.$refs.popup.open())},fail:o=>{e.index.hideLoading(),s.messageText="登录失败，请稍后再试("+o.errMsg+")",s.popupMessageType="error",s.$refs.popup.open()}})},changing(e){this.value=e.detail.value},sliderChange(e){var s=this;if(100!=e.detail.value&&(s.value=e.detail.value,s.$nextTick((()=>{s.value=0,s.messageText="校验失败",s.popupMessageType="error",s.$refs.popup.open()}))),100==e.detail.value){if(s.value=100,s.$emit("success"),!s.reset)return void(s.disabled=!0);s.isCheckSlider=!1}}}};if(!Array){(e.resolveComponent("uni-segmented-control")+e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-popup-message")+e.resolveComponent("uni-popup"))()}Math||((()=>"../../uni_modules/uni-segmented-control/components/uni-segmented-control/uni-segmented-control.js")+(()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../uni_modules/uni-popup/components/uni-popup-message/uni-popup-message.js")+(()=>"../../uni_modules/uni-popup/components/uni-popup/uni-popup.js"))();var o=e._export_sfc(s,[["render",function(s,o,r,a,t,u){return e.e({a:e.o(u.onClickItem),b:e.p({current:t.current,values:t.items}),c:0===t.current},0===t.current?{d:e.o(u.UserNamePassWrodFocusBorderStyle),e:e.o(u.UserNamePassWrodBlurBorderStyle),f:e.o((e=>t.user=e)),g:e.p({focus:!0,maxlength:"30",trim:!0,styles:t.inputColorConfigToUserName,placeholder:"请输入账号/手机号",modelValue:t.user}),h:e.o(u.PassWordFocusBorderStyle),i:e.o(u.PassWordBlurBorderStyle),j:e.o((e=>t.pass=e)),k:e.p({type:"password",styles:t.inputColorConfigToPassWord,placeholder:"请输入密码",modelValue:t.pass}),l:e.t(100==t.value?t.successText:t.initText),m:t.value+"%",n:t.forntBg,o:t.value?"calc("+t.value+"% - "+t.sliderBlockWidth+"rpx)":"0",p:t.sliderBlockWidth+"rpx",q:t.value,r:e.o(((...e)=>u.sliderChange&&u.sliderChange(...e))),s:t.disabled,t:e.o(((...e)=>u.changing&&u.changing(...e))),v:t.sliderBlockBg}:{},{w:1===t.current},1===t.current?{x:e.o(u.UserNamePassWrodFocusBorderStyle),y:e.o(u.UserNamePassWrodBlurBorderStyle),z:e.o((e=>t.user=e)),A:e.p({focus:!0,maxlength:"30",trim:!0,styles:t.inputColorConfigToUserName,placeholder:"请输入手机号",modelValue:t.user}),B:e.o(u.PassWordFocusBorderStyle),C:e.o(u.PassWordBlurBorderStyle),D:e.o((e=>t.pass=e)),E:e.p({type:"password",styles:t.inputColorConfigToPassWord,placeholder:"请输入密码",modelValue:t.pass}),F:e.t(100==t.value?t.successText:t.initText),G:t.value+"%",H:t.forntBg,I:t.value?"calc("+t.value+"% - "+t.sliderBlockWidth+"rpx)":"0",J:t.sliderBlockWidth+"rpx",K:t.value,L:e.o(((...e)=>u.sliderChange&&u.sliderChange(...e))),M:t.disabled,N:e.o(((...e)=>u.changing&&u.changing(...e))),O:t.sliderBlockBg}:{},{P:e.t(0===t.current?"登 录":"注 册"),Q:t.isCheckSlider,R:e.o(((...e)=>u.userclick&&u.userclick(...e))),S:0===t.current},(t.current,{}),{T:e.t(t.messageText),U:e.p({type:t.popupMessageType,duration:2e3}),V:e.sr("popup","486e191c-5"),W:e.p({type:"message"})})}],["__scopeId","data-v-486e191c"]]);wx.createPage(o);
